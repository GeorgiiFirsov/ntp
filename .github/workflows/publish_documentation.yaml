name: Publish documentation

on:
    push:
        branches:
            - 'main'

jobs:
    deploy:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v3
              with:
                fetch-depth: 0
                submodules: 'true'
            
            - name: Configure Doxygen with CMake
              run: cmake . -DNTP_ENABLE_GH_DOCS_ONLY=ON

            - name: Generate Documentation
              uses: mattnotmitt/doxygen-action@v1.9.4
              with:
                doxyfile-path: docs/Doxyfile
#
#            - name: Publish generated content to GitHub Pages
#              uses: tsunematsu21/actions-publish-gh-pages@v1.0.2
#              with:
#                dir: docs/html
#                branch: gh-pages
#                token: ${{ secrets.ACCESS_TOKEN }}
